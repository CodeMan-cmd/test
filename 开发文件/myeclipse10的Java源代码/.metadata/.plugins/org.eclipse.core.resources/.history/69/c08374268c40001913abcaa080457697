package controller;import javax.annotation.Resource;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.servlet.ModelAndView;import pojo.User;import service.UserService;import utils.Page;@Controller// 控制器public class UserController {	@Resource	private UserService userService;	/***	 * 	 * @param userCode	 *            用户编码参数 代码要求飞必须	 * @param userName	 *            用户名参数 代码要求飞必须	 * @param dangqianyeshu	 *            当前页数参数 代码要求飞必须	 * @param req	 *            转发对象参数	 * @return	 */	@RequestMapping("/cc")	public String showUserPR(			@RequestParam(value = "userCode", required = false) String userCode,			@RequestParam(value = "userName", required = false) String userName,			@RequestParam(value = "dangqianyeshu", required = false) String dangqianyeshu,			HttpServletRequest req) {		Page p = new Page();		User u = new User();		if (!"".equals(dangqianyeshu)&&dangqianyeshu!=null) {			p.setDangqianyeshu((int)dangqianyeshu);		}		return "index";	}	/**	 * 当返回值是String类型是时候，默认返回试图view	 */	@RequestMapping("abcd")	public ModelAndView showHelloWord(HttpServletRequest arg0,			HttpServletResponse arg1,			@RequestParam(value = "username", required = false) String username)			throws Exception {		ModelAndView m = new ModelAndView();		m.setViewName("cc");		return m;	}	@RequestMapping("loginIndex")	public String loginIndex() {		// System.err.println(5/0);//运行时异常by zero通过零		return "Login";	}	@RequestMapping("form1User")	public String form1User(String userName, String password,			HttpServletRequest req, HttpSession session, HttpServletResponse res)			throws Exception {		System.err.println(userName);		if (null != userName && userName != "") {			User u = new User();			u.setUserName(userName);			int addUser = userService.addUser(u);			System.err.println(addUser);			// req.setAttribute("error1", "用户名或密码错误！");			return "Login";		} else if (!password.equals("123")) {			// 页面跳转“Login.jsp”,密码错误提示			// req.setAttribute("Password", "密码错误，请输入正确的密码！");			return "Login";		} else {			// req.setAttribute("error1", "用户名或密码错误！");			throw new Exception("用户名不能为null");			// return "cc";		}	}	@ExceptionHandler(value = (RuntimeException.class))	// 运行时异常	public String handlerException(RuntimeException e, HttpServletRequest req) {		req.setAttribute("e", e.getMessage());		return "error";	}}