<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			#div1 {
				width: 200px;
				height: 200px;
				background: red;
				position: absolute;
			}
		</style>
		<script>
			function getPos(ev) {
				//获取scrollleft
				var scrollleft = document.documentElement.scrollLeft || document.body.scrollLeft;
				//获取scrolltop
				var scrolltop = document.documentElement.scrollTop || document.body.scrollTop;
				return {
					//横坐标—— 
					x: ev.clientX + scrollleft,
					//纵坐标|
					y: ev.clientY + scrolltop
				};
			};
			//onmousemove 当前的位置
			document.onmousemove = function(ev) {
				var oDiv = document.getElementById('div1');
				//oEvent ev或者是event
				var oEvent = ev || event;
				//返回getpos函数返回值 
				var pos = getPos(oEvent);
				//获取left位置=鼠标的位置
				//clientX只能获取可视区域
				oDiv.style.left = pos.x + 'px';
				//获取top位置=鼠标的位置
				//clientY只能获取可视区域
				oDiv.style.top = pos.y + 'px';
			};
		</script>
	</head>

	<body style="height: 2000px; width: 2000px;">
		<div id="div1"></div>
	</body>

</html>